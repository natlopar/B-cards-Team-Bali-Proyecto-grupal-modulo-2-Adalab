const y=document.querySelector(".js-cardName"),b=document.querySelector(".js-cardJob"),j=document.querySelector(".js-mobileLink"),k=document.querySelector(".js-mailLink"),a=document.querySelector(".js-linkedinLink"),u=document.querySelector(".js-githubLink"),C=document.querySelector(".js-formContainer"),r=document.querySelector(".js-card"),H=document.querySelector(".js_palette1"),_=document.querySelector(".js_palette2"),F=document.querySelector(".js_palette3"),D=document.querySelector(".formDesign"),h=document.querySelector(".js_inputName"),f=document.querySelector(".js_inputJob"),g=document.querySelector(".js_inputPhone"),v=document.querySelector(".js_inputEmail"),d=document.querySelector(".js_inputLinkedin"),p=document.querySelector(".js_inputGithub");document.querySelector(".formStyle");const w=document.querySelector(".js-size"),E=document.querySelector(".js-shareHidden"),s=document.querySelector(".js-btnOrange"),q=document.querySelector(".js-linkCard"),M=document.querySelector(".js-shareError"),T=document.querySelector(".js-twitter"),n={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},O={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""};function A(){const e=p.value;e.includes("@")?u.href="https://github.com/"+e.replace(/@/,""):u.href="https://github.com/"+e}function N(){const e=d.value;e.includes("https://www.linkedin.com/in/")?a.href=e:e.includes("linkedin.com/in/")?a.href="https://www."+e:a.href=e}function G(e){const t=e.target.id;if(t==="name")n.name=e.target.value,y.innerHTML=h.value,console.log(n.name);else if(t==="job")n.job=e.target.value,b.innerHTML=f.value;else if(t==="phone")n.phone=e.target.value,j.href="tel:"+g.value;else if(t==="email")n.email=e.target.value,k.href="mailto:"+v.value;else if(t==="linkedin"){const i=e.target.value;i.includes("https://www.linkedin.com/in/")?n.linkedin=i.replace("https://www.linkedin.com/in/",""):i.includes("linkedin.com/in/")?n.linkedin=i.replace("linkedin.com/in/",""):n.linkedin=d.value,N()}else if(t==="github"){const i=e.target.value;i.includes("@")?n.github=i.replace(/@/,""):n.github=p.value,A()}else t==="photo"&&n.photo;console.log(n),localStorage.setItem("data",JSON.stringify(n))}function J(e){const t=e.target.value;r.classList.remove("palette1","palette2","palette3"),H.checked===!0?r.classList.add("palette1"):_.checked===!0?r.classList.add("palette2"):r.classList.add("palette3"),n.palette=t}C.addEventListener("input",G);D.addEventListener("input",J);const R=()=>{E.style.display="flex",s.classList.add("btnGrey")};s.addEventListener("click",P);function I(e){fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{R(),U(t)}).catch(t=>console.log(t))}function P(e){e.preventDefault(),I(o||n)}function U(e){e.success?(q.href=e.cardURL,q.innerHTML=e.cardURL,T.style.display="flex",T.href="https://twitter.com/intent/tweet?text=%C2%A1Creado%20con%20Bcards!%20(crea%20la%20tuya%20en%20http%3A%2F%2Fmbueno992.github.io%2Fproject-promo-v-module-2-team-2%2F)%20Ver%20tarjeta%3A&url="+e.cardURL,s.disabled=!0,M.innerHTML="La tarjeta ha sido creada: "):(M.innerHTML="Error: revisa los datos introducidos y haz click de nuevo en Crear Tarjeta",s.disabled=!1,s.classList.remove("btnGrey"))}function z(e){r.classList.remove("palette1","palette2","palette3"),e.palette==="1"?(H.checked=!0,r.classList.add("palette1")):e.palette==="2"?(_.checked=!0,r.classList.add("palette2")):e.palette==="3"&&(F.checked=!0,r.classList.add("palette3"))}const o=JSON.parse(localStorage.getItem("data")),L=document.querySelector(".js__profile-image"),S=document.querySelector(".js_miniPreview");function $(){o&&(h.value=o.name,f.value=o.job,g.value=o.phone,v.value=o.email,d.value=o.linkedin,p.value=o.github,y.innerHTML=h.value,b.innerHTML=f.value,j.href=g.value,k.href=v.value,a.href="http://www.linkedin.com/in/"+d.value,u.href="https://www.github.com/"+p.value,z(o),L.style.backgroundImage=`url(${o.photo})`,S.style.backgroundImage=`url(${o.photo})`)}$();const c=new FileReader,x=document.querySelector(".js__profile-upload-btn");function B(e){const t=e.currentTarget.files[0];t.size>51200?w.innerHTML="La imagen no puede superar los 50KB":(w.innerHTML="",c.addEventListener("load",V),c.readAsDataURL(t))}function V(){L.style.backgroundImage=`url(${c.result})`,S.style.backgroundImage=`url(${c.result})`,n.photo=c.result}x.addEventListener("change",B);const K=document.querySelector(".js-cardReset"),Q=document.querySelector(".js-select1"),W=()=>{Object.assign(n,O)},X=()=>{r.classList.remove("palette2","palette3")},l={name:"Nombre Apellido",job:"Front-end developer",phone:"",email:"",linkedin:"",github:"",photo:"url(./images/ImageBackground.jpg)",photoDiv:""},Y=()=>{y.innerHTML=l.name,b.innerHTML=l.job,j.href=l.phone,k.href=l.email,a.href=l.linkedin,u.href=l.github,L.style.backgroundImage=l.photo,S.style.backgroundImage=l.photoDiv,localStorage.removeItem("data")},Z=()=>{const e=document.querySelectorAll(".js-input");for(let t=0;t<e.length;t++)e[t].value="";Q.checked=!0},ee=()=>{W(),X(),Y(),Z()};K.addEventListener("click",ee);const te=document.querySelectorAll(".js-options");document.querySelector(".js-fill");document.querySelector(".js-design");document.querySelector(".js-share");const ne=document.querySelectorAll(".js-fieldset"),oe=e=>{const i=e.currentTarget.parentNode;for(const m of ne)i===m?m.classList.remove("hidden"):m.classList.add("hidden")};te.forEach(e=>{e.addEventListener("click",oe)});
//# sourceMappingURL=main.js.map
